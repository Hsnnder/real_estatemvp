<!DOCTYPE html>
<html lang="tr"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Work+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<title><%= action === 'add' ? 'Yeni İlan Ekle' : 'İlan Düzenle' %></title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<link rel="stylesheet" href="/assets/site.css" />
<link rel="stylesheet" href="/assets/theme.css" />
</head>
<body class="bg-[var(--background)] text-[var(--text-primary)]" style='font-family: "Work Sans", "Noto Sans", sans-serif;'>
<div class="relative flex size-full min-h-screen flex-col overflow-x-hidden">
  <div class="flex h-full grow flex-col">
    <main class="flex flex-1 justify-center py-10 px-4 sm:px-6 lg:px-8">
      <div class="w-full max-w-4xl space-y-8">
        <div>
          <h1 class="text-4xl font-bold tracking-tight" style="color: var(--accent-color)"><%= action === 'add' ? 'Yeni İlan Ekle' : 'İlan Düzenle' %></h1>
          <p class="mt-2 text-lg text-[var(--text-secondary)]">Yeni bir mülk eklemek için lütfen aşağıdaki bilgileri doldurun.</p>
        </div>

        <form class="space-y-6 bg-white p-8 rounded-lg shadow-sm border border-[var(--border-color)]" method="POST" action="<%= action === 'edit' ? ('/admin/property/edit/' + (property ? property.ilanId : '')) : '/admin/property/add' %>" enctype="multipart/form-data">
          <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2">
            <div class="sm:col-span-2">
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="ilanBaslik">İlan Başlığı</label>
              <div class="mt-1">
                <input class="form-input block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base placeholder:text-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="ilanBaslik" name="ilanBaslik" placeholder="Örn: Şişli'de 3+1 Lüks Daire" type="text" value="<%= property ? property.ilanBaslik : '' %>" required />
              </div>
            </div>
            <div class="sm:col-span-2">
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="ilanAciklama">İlan Açıklaması</label>
              <div class="mt-1">
                <textarea class="form-textarea block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base placeholder:text-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="ilanAciklama" name="ilanAciklama" placeholder="Mülkünüzün özelliklerini ve avantajlarını detaylandırın." rows="4" required><%= property ? property.ilanAciklama : '' %></textarea>
              </div>
            </div>
            <div>
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="price">Fiyat (TL)</label>
              <div class="mt-1">
                <input class="form-input block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base placeholder:text-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="price" name="price" placeholder="5000000" type="number" value="<%= property ? property.price : '' %>" required />
              </div>
            </div>
            <div>
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="propertyType">İlan Tipi</label>
              <div class="mt-1">
                <select class="form-select block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="propertyType" name="propertyType" required>
                  <option value="">Seçiniz</option>
                  <option value="Satılık" <%= property && property.propertyType === 'Satılık' ? 'selected' : '' %>>Satılık</option>
                  <option value="Kiralık" <%= property && property.propertyType === 'Kiralık' ? 'selected' : '' %>>Kiralık</option>
                </select>
              </div>
            </div>
            <div>
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="ilanOda">Oda Sayısı</label>
              <div class="mt-1">
                <select class="form-select block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="ilanOda" name="ilanOda" required>
                  <option value="">Seçiniz</option>
                  <option value="1" <%= property && property.ilanOda === '1' ? 'selected' : '' %>>1+0</option>
                  <option value="2" <%= property && property.ilanOda === '2' ? 'selected' : '' %>>1+1</option>
                  <option value="3" <%= property && property.ilanOda === '3' ? 'selected' : '' %>>2+1</option>
                  <option value="4" <%= property && property.ilanOda === '4' ? 'selected' : '' %>>3+1</option>
                  <option value="5" <%= property && property.ilanOda === '5' ? 'selected' : '' %>>4+1</option>
                </select>
              </div>
            </div>
            <div>
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="ilanBanyo">Banyo Sayısı</label>
              <div class="mt-1">
                <input class="form-input block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base placeholder:text-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="ilanBanyo" name="ilanBanyo" placeholder="2" type="number" min="1" value="<%= property ? property.ilanBanyo : '' %>" required />
              </div>
            </div>
            <div>
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="ilanBoyut">Metrekare (m²)</label>
              <div class="mt-1">
                <input class="form-input block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base placeholder:text-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="ilanBoyut" name="ilanBoyut" placeholder="150" type="number" min="1" value="<%= property ? property.ilanBoyut : '' %>" required />
              </div>
            </div>
            
            <div class="sm:col-span-2">
              <label class="block text-base font-medium" style="color: var(--accent-color)" for="address">Adres</label>
              <div class="mt-1">
                <input class="form-input block w-full rounded-lg border-[var(--border-color)] bg-[var(--background)] p-4 text-base placeholder:text-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="address" name="address" placeholder="Mülkün tam adresini girin" type="text" value="<%= property ? (property.address || '') : '' %>" required />
              </div>
              <p class="mt-2 text-sm text-[var(--text-secondary)]">Adres girildiğinde koordinatlar (enlem/boylam) otomatik belirlenir.</p>
            </div>
          </div>

          <div>
            <h2 class="text-xl font-bold" style="color: var(--accent-color)">Fotoğraf Yükleme</h2>
            <div class="mt-4 rounded-lg border-2 border-dashed border-[var(--border-color)] px-6 pt-5 pb-6">
              <div class="space-y-1 text-center">
                <span class="material-symbols-outlined text-5xl text-gray-400">cloud_upload</span>
                <div class="flex justify-center text-base text-[var(--text-secondary)]">
                  <label class="relative cursor-pointer rounded-md bg-white font-medium text-[var(--primary-color)] focus-within:outline-none focus-within:ring-2 focus-within:ring-[var(--primary-color)] focus-within:ring-offset-2 hover:text-[var(--primary-color-light)] px-3 py-1" for="photos">
                    <span>Dosya yükle</span>
                    <input class="sr-only" id="photos" name="photos" type="file" accept="image/*" multiple />
                  </label>
                  <p class="pl-2">veya sürükleyip bırakın</p>
                </div>
                <p class="text-sm text-gray-500">PNG, JPG, GIF 10MB'a kadar</p>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between pt-4">
            <a href="/admin/properties" class="inline-flex items-center rounded-lg border border-[var(--border-color)] bg-white px-5 py-3 text-base font-medium hover:bg-[var(--primary-color-light)]/20">Geri Dön</a>
            <button class="flex min-w-[140px] items-center justify-center rounded-lg bg-[var(--primary-color)] py-3 px-6 text-base font-bold text-white shadow-sm transition hover:bg-[var(--primary-color-light)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] focus:ring-offset-2" type="submit">
              <%= action === 'add' ? 'İlanı Kaydet' : 'Güncelle' %>
            </button>
          </div>
        </form>
      </div>
    </main>
  </div>
</div>
</body></html>
