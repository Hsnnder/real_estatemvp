<!DOCTYPE html>
<html lang="tr"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Work+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
<title>Emlak Sitesi - İlanlar</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<link rel="stylesheet" href="/assets/site.css" />
<link rel="stylesheet" href="/assets/theme.css" />
<style>
  :root {
    --background: var(--background-light);
    --text-primary: var(--text-dark);
    --accent-color: var(--text-dark);
    --primary-color: var(--primary-green);
    --primary-color-light: var(--primary-green-dark);
    /* Softer, near-white translucent cards for listing grid */
    --card-bg: rgba(255,255,255,0.7);
  }
  .site-nav { background: rgba(255,255,255,0.96); }
</style>
</head>
<body class="page-public bg-[var(--background)]" style='font-family: "Work Sans", "Noto Sans", sans-serif;'>
<div class="relative flex size-full min-h-screen flex-col bg-gray-50 group/design-root overflow-x-hidden">
  <div class="layout-container flex h-full grow flex-col">
    <header class="site-nav flex items-center justify-between whitespace-nowrap px-10 py-4">
      <div class="flex items-center gap-10">
        <div class="flex items-center gap-3 text-[var(--text-primary)]">
          <div class="w-6 h-6">
            <img src="/brand/logo.jpeg" alt="Logo" class="w-6 h-6 object-contain rounded-md"/>
          </div>
          <h2 class="brand text-xl leading-tight">Hacı Polat</h2>
        </div>
        <nav class="hidden md:flex items-center gap-8">
          <a class="nav-link" href="/">Anasayfa</a>
          <a class="nav-link" href="/properties">İlanlar</a>
          <a class="nav-link" href="/contact">İletişim</a>
        </nav>
      </div>
      <div class="flex flex-1 justify-end items-center gap-2 md:gap-4">
        <a href="/admin/login" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-md h-10 px-4 bg-transparent text-[var(--text-primary)] text-base font-bold leading-normal tracking-[0.015em] hover:bg-[var(--primary-color-light)] transition-colors">
          <span class="truncate">Giriş Yap</span>
        </a>
        <button type="button" class="hamburger-btn menu-toggle" aria-label="Menüyü aç">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
      </div>
    </header>

    <main class="flex flex-1 justify-center py-10 px-4 sm:px-6 lg:px-8">
      <div class="layout-content-container flex flex-col max-w-7xl w-full">
        <div class="flex flex-wrap justify-between items-center gap-4 mb-8 px-4">
          <h2 class="text-gray-800 text-4xl font-bold leading-tight">İlanlar</h2>
          <div class="flex items-center gap-4">
            <select class="form-select rounded-md border-gray-300 bg-white py-2.5 pr-10 text-gray-800 focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)]">
              <option>Filtrele</option>
              <option>Fiyata Göre (Artan)</option>
              <option>Fiyata Göre (Azalan)</option>
              <option>Tarihe Göre (Yeni)</option>
            </select>
          </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 px-4">
          <% if (properties && properties.length) { %>
            <% properties.forEach(function(p){ %>
              <a href="/propertyinfo/<%= p.ilanId %>" class="card-link reveal-on-scroll">
                <div class="flex flex-col gap-3 pb-3 listing-card rounded-lg shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-300 border border-[var(--border-color)]">
                  <div class="relative w-full bg-center bg-no-repeat aspect-video bg-cover" style='background-image: url("<%= (p.photoIds && p.photoIds.split(",")[0]) ? ('/img/' + p.photoIds.split(",")[0].trim() + '/300') : "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='450'%3E%3Crect fill='%23e5e7eb' width='100%25' height='100%25'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='22' fill='%239ca3af'%3EG%C3%B6rsel Yok%3C/text%3E%3C/svg%3E" %>");'>
                    <% const st = (p.status || 'active'); %>
                    <% if (st === 'active') { %>
                      <span class="absolute top-2 left-2 rounded-full bg-green-100/95 text-green-800 text-xs font-semibold px-2.5 py-0.5">Aktif</span>
                    <% } else if (st === 'sold') { %>
                      <span class="absolute top-2 left-2 rounded-full bg-gray-100/95 text-gray-800 text-xs font-semibold px-2.5 py-0.5">Satıldı</span>
                    <% } else { %>
                      <span class="absolute top-2 left-2 rounded-full bg-yellow-100/95 text-yellow-800 text-xs font-semibold px-2.5 py-0.5">Pasif</span>
                    <% } %>
                  </div>
                  <div class="p-4">
                    <h3 class="card-title text-xl font-semibold leading-normal mb-1"><%= p.ilanBaslik %></h3>
                    <p class="text-gray-600 text-base leading-normal line-clamp-2"><%= (p.ilanAciklama || '') %></p>
                    <p class="text-[var(--primary-color)] text-lg font-bold mt-2">₺<%= parseInt(p.price || 0).toLocaleString('tr-TR') %></p>
                  </div>
                </div>
              </a>
            <% }) %>
          <% } else { %>
            <div class="text-gray-500">Henüz ilan bulunmuyor.</div>
          <% } %>
        </div>
      </div>
    </main>
  </div>
</div>
<%- include('partials/mobile-menu') %>
<%- include('partials/footer') %>

</body></html>
